{% extends "network/layout.html" %}

{% block body %}
<h1>Profile {{ user_info.username }}</h1>
<a href="#">Followers <span id="followers-count">{{ user_info.follower.count }}</span></a>
<a href="#">Following <span id="following-count">{{ user_info.following.count }}</span></a>
{% if user.is_authenticated and user.id == user_info.id %}
<div class="container-fluid border border-ligh p-3">
    <form action="">
        <div class="form-group">
            <label for="new-post" class="h3">New Post</label>
            <textarea class="form-control" id="new-post" name="new-post" rows="3" required></textarea>
        </div>
        <input type="submit" value="Post" class="btn btn-primary">
    </form>
</div>
{% else %}
<div><button class="btn btn-primary" data-userid="{{ user_info.id }}" id="follow-button">{{ follow_button }}</button></div>
{% endif %}

<section class="container-fluid">
<h2>Posts</h2>
{% for post in posts %}
    <article class="border border-ligh p-3 my-3">
        <h1 class="h3">{{ post.user }}</h1>
        {% if user.is_authenticated and post.user.username == user.username %}
        <a href="{% url 'delete_post' post.id %}">Delete</a>
        <a href="#">Edit</a>
        {% endif %}
        <p>{{ post.content }}</p>
        <p>{{ post.created_at }}</p>
        <p>Like 0</p>
        <p>comment</p>
    </article>
{% empty %}
<p><i>No posts</i></p>
{% endfor %}
</section>

{% endblock %}