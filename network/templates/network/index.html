{% extends "network/layout.html" %}

{% block body %}
<h1>{{ title_page }}</h1>
{% if user.is_authenticated and show_new_post %}
<div class="container-fluid border border-ligh p-3">
    <form action="{% url 'create_post' %}" method="post">
    {% csrf_token %}
        <div class="form-group">
            <label for="new-post" class="h3">New Post</label>
            <textarea class="form-control" id="new-post" name="new-post" rows="3" required></textarea>
        </div>
        <input type="submit" value="Post" class="btn btn-primary">
    </form>
</div>
{% endif %}

<section class="container-fluid">
{% for post in posts %}
    <article class="border border-ligh p-3 my-3">
        <h1 class="h3"><a href="{% url 'profile_follow' post.user_id %}">{{ post.user }}</a></h1>
        {% if user.username == post.user.username %}
        <a href="{% url 'delete_post' post.id %}">Delete</a>
        <a href="#">Edit</a>
        {% endif %}
        <p>{{ post.content }}</p>
        <p>{{ post.created_at }}</p>
        <p>Like 0</p>
        <p>comment</p>
    </article>
{% empty%}
<i>No posts</i>
{% endfor %}
{% include 'network/paginator.html' %}
</section>

{% endblock %}